"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["211340"],{117844:function(e,n,o){o.r(n),o.d(n,{default:()=>m,frontMatter:()=>d,metadata:()=>r,assets:()=>i,toc:()=>c,contentTitle:()=>t});var r=JSON.parse('{"id":"commands-legacy/add-record","title":"ADD RECORD","description":"ADD RECORD ( {;}{*} )","source":"@site/i18n/pt/docusaurus-plugin-content-docs/current/commands-legacy/add-record.md","sourceDirName":"commands-legacy","slug":"/commands/add-record","permalink":"/docs/pt/next/commands/add-record","draft":false,"unlisted":false,"editUrl":"https://github.com/4d/docs/issues/new?title=Comment%20on%20commands-legacy%2Fadd-record.md%20(current)&body=Please%20enter%20your%20comment%3A","tags":[],"version":"current","frontMatter":{"id":"add-record","title":"ADD RECORD","slug":"/commands/add-record","displayed_sidebar":"docs"},"sidebar":"docs","previous":{"title":"ACCEPT","permalink":"/docs/pt/next/commands/accept"},"next":{"title":"CANCEL","permalink":"/docs/pt/next/commands/cancel"}}'),a=o("785893"),s=o("250065");let d={id:"add-record",title:"ADD RECORD",slug:"/commands/add-record",displayed_sidebar:"docs"},t=void 0,i={},c=[{value:"Compatibilidade",id:"compatibilidade",level:2},{value:"Descri\xe7\xe3o",id:"descri\xe7\xe3o",level:2},{value:"Exemplo 1",id:"exemplo-1",level:2},{value:"Exemplo 2",id:"exemplo-2",level:2},{value:"Vari\xe1veis e conjuntos do sistema",id:"vari\xe1veis-e-conjuntos-do-sistema",level:2},{value:"Ver tamb\xe9m",id:"ver-tamb\xe9m",level:2},{value:"Propriedades",id:"propriedades",level:2}];function l(e){let n={a:"a",br:"br",code:"code",em:"em",h2:"h2",img:"img",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"ADD RECORD"})," ( {",(0,a.jsx)(n.em,{children:"tabela"}),"}{;}{*} )"]}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{children:"Par\xe2metro"}),(0,a.jsx)(n.th,{children:"Tipo"}),(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{children:"Descri\xe7\xe3o"})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"tabela"}),(0,a.jsx)(n.td,{children:"Table"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Tabela a utilizar para entrada de dados ou Tabela por padr\xe3o, se omitida"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"*"}),(0,a.jsx)(n.td,{children:"Operator"}),(0,a.jsx)(n.td,{children:"\u2192"}),(0,a.jsx)(n.td,{children:"Ocultar barras de deslocamento"})]})]})]}),"\n",(0,a.jsx)(n.h2,{id:"compatibilidade",children:"Compatibilidade"}),"\n",(0,a.jsxs)(n.p,{children:["Esse comando foi implementado em 4D em lan\xe7amentos anteriores e \xe9 ainda \xfatil para desenvolvimento b\xe1sico ou prot\xf3tipos. Entretanto, para construir interfaces personalizadas e modernas, agora n\xe3o \xe9 recomendado usar formul\xe1rios gen\xe9ricos baseados no comando ",(0,a.jsxs)(n.em,{children:[(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/dialog",children:"DIALOG"})," que oferece propriedades avan\xe7adas e melhor controle sobre o fluxo de dados"]})]}),"\n",(0,a.jsx)(n.h2,{id:"descri\xe7\xe3o",children:"Descri\xe7\xe3o"}),"\n",(0,a.jsxs)(n.p,{children:["O comando ADD RECORD permite ao usu\xe1rio adicionar um novo registro na tabela ",(0,a.jsx)(n.em,{children:"tabela"})," ou na tabela por padr\xe3o, se omitir o par\xe2metro ",(0,a.jsx)(n.em,{children:"tabela"}),"."]}),"\n",(0,a.jsx)(n.p,{children:"ADD RECORD cria um novo registro, e faz com que o novo registro se transforme no registro atual para o processo atual e mostra o formul\xe1rio de entrada atual. No ambiente Menus personalizados, depois de que o usu\xe1rio aceita o novo registro, o novo registro \xe9 o \xfanico registro na sele\xe7\xe3o atual."}),"\n",(0,a.jsx)(n.p,{children:"A seguinte imagem representa um formul\xe1rio de entrada de dados t\xedpico."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{src:o(488128).Z+"",width:"642",height:"374"})}),"\n",(0,a.jsxs)(n.p,{children:["O formul\xe1rio aparece na janela do primeiro plano do processo. A janela tem barras de rolagem e uma caixa de controle do tamanho. Se passar o par\xe2metro opcional ",(0,a.jsx)(n.em,{children:"*"})," a janela aparece sem as barras de rolagem e sem a caixa de controle de tamanho."]}),"\n",(0,a.jsx)(n.p,{children:"ADD RECORD mostra o formul\xe1rio at\xe9 que o usu\xe1rio aceita ou cancela o registro. Se o usu\xe1rio est\xe1 adicionando v\xe1rios registros, o comando deve ser executado uma vez para cada registro."}),"\n",(0,a.jsxs)(n.p,{children:["O registro \xe9 guardado (aceito) se o usu\xe1rio clicar no bot\xe3o Aceitar ou ao pressionar a tecla Intro (teclado num\xe9rico), ou se o comando ",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/accept",children:"ACCEPT"})," for executado."]}),"\n",(0,a.jsxs)(n.p,{children:["O registro n\xe3o \xe9 guardado (cancelado) se o usu\xe1rio clicar no bot\xe3o Cancelar ou ao pressionar a tecla de anula\xe7\xe3o Esc ou se for executado o comando ",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/cancel",children:"CANCEL"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota"}),": este comando n\xe3o exibe tabelas para estar em modo leitura/escrita. Pode ser utilizado mesmo se a tabela estiver em modo lectura unicamente (ver ",(0,a.jsx)(n.em,{children:"Record Locking"}),"). Depois de chamar a ADD RECORD, OK toma o valor 1 se for aceito o registro e 0 se for cancelado."]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Nota:"}),' o registro permanece em mem\xf3ria, inclusive quando \xe9 cancelado, e pode ser guardado se \xe9 executado [#cmd id="53"] antes de que mude o ponteiro do registro atual.']}),"\n",(0,a.jsx)(n.h2,{id:"exemplo-1",children:"Exemplo 1"}),"\n",(0,a.jsx)(n.p,{children:"O seguinte exemplo \xe9 um loop utilizado geralmente para adicionar novos registros a um banco:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0FORM SET INPUT([Clientes];"Entrada")\xa0// Designar o formul\xe1rio de entrada da tabela [Clientes]\n\xa0Repeat\xa0// Loop at\xe9 que o usu\xe1rio cancele\n\xa0\xa0\xa0\xa0ADD RECORD([Clientes];*)\xa0// Adicionar um registro a tabela [Clientes]\n\xa0Until(OK=0)\xa0// At\xe9 que o usu\xe1rio cancele\n'})}),"\n",(0,a.jsx)(n.h2,{id:"exemplo-2",children:"Exemplo 2"}),"\n",(0,a.jsxs)(n.p,{children:["O seguinte exemplo procura um cliente no banco. Dependendo dos resultados da busca, acontecer\xe1 uma destas coisas. Se n\xe3o se encontrar um cliente, ent\xe3o \xe9 permitido ao usu\xe1rio adicionar um novo cliente com ADD RECORD. Se encontrar ao menos um cliente, se lhe apresenta ao usu\xe1rio o primeiro registro encontrado, o qual pode ser modificada com ",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/modify-record",title:"MODIFY RECORD",children:"MODIFY RECORD"}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-4d",children:'\xa0READ WRITE([Clientes])\n\xa0FORM SET INPUT([Clientes];"Entrada")\xa0// Decidir o formulario de entrada\n\xa0vlCustNum:=Num(Request("Introduzir um n\xfamero de cliente:"))\xa0// Obter o n\xfamero de cliente\n\xa0If(OK=1)\n\xa0\xa0\xa0\xa0QUERY([Clientes];[Clientes]CustNo=vlCustNum)\xa0// Procurar o cliente\n\xa0\xa0\xa0\xa0If(Records in selection([Clientes])=0)\xa0// se n\xe3o se encontra nenhum cliente\u2026\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0ADD RECORD([Clientes])\xa0// Adicionar um novo registro\n\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0If(Not(Locked([Clientes])))\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0MODIFY RECORD([Clientes])\xa0// Modificar o registro\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0UNLOAD RECORD([Clientes])\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0Else\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0ALERT("O registro est\xe1 sendo utilizado atualmente.")\n\xa0\xa0\xa0\xa0\xa0\xa0\xa0End if\n\xa0\xa0\xa0\xa0End if\n\xa0End if\n'})}),"\n",(0,a.jsx)(n.h2,{id:"vari\xe1veis-e-conjuntos-do-sistema",children:"Vari\xe1veis e conjuntos do sistema"}),"\n",(0,a.jsx)(n.p,{children:"A vari\xe1vel sistema OK toma o valor 1 se aceitar o registro e 0 se o cancelar. A vari\xe1vel OK n\xe3o toma nenhum valor at\xe9 que o registro tenha sido confirmado ou anulado."}),"\n",(0,a.jsx)(n.h2,{id:"ver-tamb\xe9m",children:"Ver tamb\xe9m"}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/accept",children:"ACCEPT"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/cancel",children:"CANCEL"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/create-record",children:"CREATE RECORD"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/modify-record",children:"MODIFY RECORD"}),(0,a.jsx)(n.br,{}),"\n",(0,a.jsx)(n.a,{href:"/docs/pt/next/commands/save-record",children:"SAVE RECORD"})]}),"\n",(0,a.jsx)(n.h2,{id:"propriedades",children:"Propriedades"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,a.jsxs)(n.table,{children:[(0,a.jsx)(n.thead,{children:(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.th,{}),(0,a.jsx)(n.th,{})]})}),(0,a.jsxs)(n.tbody,{children:[(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"N\xfamero do comando"}),(0,a.jsx)(n.td,{children:"56"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Thread-seguro"}),(0,a.jsx)(n.td,{children:"\u2717"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Modificar vari\xe1veis"}),(0,a.jsx)(n.td,{children:"OK"})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Modificar o registro atual"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Modificar a sele\xe7\xe3o atual"}),(0,a.jsx)(n.td,{})]}),(0,a.jsxs)(n.tr,{children:[(0,a.jsx)(n.td,{children:"Proibido no servidor"}),(0,a.jsx)(n.td,{})]})]})]})]})}function m(e={}){let{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}},488128:function(e,n,o){o.d(n,{Z:function(){return r}});let r=o.p+"assets/images/pict2804768.en-90f1dbe0b38710d7f9696cee3162c305.png"},250065:function(e,n,o){o.d(n,{Z:function(){return t},a:function(){return d}});var r=o(667294);let a={},s=r.createContext(a);function d(e){let n=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);